import{d as $,_ as u,aN as h,o as t,c as i,aL as _,a,a$ as m,D as v,bt as d,F as p,s as b,aE as A,aB as k}from"./index-962e0ebb.js";import{a as w}from"./axios-28bc18a3.js";const x=$({name:"ArchiveItem",props:{items:Array,yearsList:Array},data(){return{}},methods:{handleTitleClick(e){console.log(e.path.substring(1,e.path.length)),this.$router.push({path:"/post/"+e.path.substring(7)})}},mounted(){}});const C=["onClick"];function B(e,o,r,f,c,y){const n=h("el-timeline-item"),I=h("el-timeline");return t(!0),i(p,null,_(e.yearsList,l=>(t(),i("div",{key:l,class:"archive-container"},[a("h4",null,m(l),1),v(I,null,{default:d(()=>[(t(!0),i(p,null,_(this.items[l],(s,g)=>(t(),b(n,{key:g,timestamp:s.posted_time.substring(s.posted_time.indexOf("-")+1)},{default:d(()=>[a("h4",{class:"post-title",onClick:N=>e.handleTitleClick(s)},m(s.title.slice(0,-3)),9,C)]),_:2},1032,["timestamp"]))),128))]),_:2},1024)]))),128)}const D=u(x,[["render",B],["__scopeId","data-v-214b5ae3"]]);const E={components:{ArchiveItem:D},data(){return{archiveItems:Object,years:[]}},mounted(){this.fetchTimeItems(),this.updateData("Archives")},methods:{async fetchTimeItems(){try{const e=await w.get("https://raohy.com/list/archive");if(e.status===200)this.archiveItems=e.data,console.log(this.archiveItems),this.years=Object.keys(this.archiveItems).sort((o,r)=>r-o),console.log(this.years);else throw new Error("Failed to fetch top-level archive items")}catch(e){console.error("Error fetching top-level menus:",e)}},updateData(e){this.$store.commit("navi",e)}}},L=e=>(A("data-v-3bc898dd"),e=e(),k(),e),S={id:"app"},T=L(()=>a("h1",null,"Archives",-1)),V={class:"archive-item"};function F(e,o,r,f,c,y){const n=h("ArchiveItem");return t(),i("div",S,[T,a("div",V,[v(n,{items:c.archiveItems,"years-list":c.years},null,8,["items","years-list"])])])}const q=u(E,[["render",F],["__scopeId","data-v-3bc898dd"]]);export{q as default};

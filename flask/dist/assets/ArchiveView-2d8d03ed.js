import{d as $,_ as u,r as h,o as t,c as i,f as _,F as m,a,t as p,b as v,h as d,i as A,p as k,g as b}from"./index-65b7162c.js";import{a as w}from"./axios-28bc18a3.js";const x=$({name:"ArchiveItem",props:{items:Array,yearsList:Array},data(){return{}},methods:{handleTitleClick(e){console.log(e.path.substring(1,e.path.length)),this.$router.push({path:"/post/"+e.path.substring(7)})}},mounted(){}});const C=["onClick"];function B(e,o,r,f,n,y){const c=h("el-timeline-item"),I=h("el-timeline");return t(!0),i(m,null,_(e.yearsList,l=>(t(),i("div",{key:l,class:"archive-container"},[a("h4",null,p(l),1),v(I,null,{default:d(()=>[(t(!0),i(m,null,_(this.items[l],(s,g)=>(t(),A(c,{key:g,timestamp:s.posted_time.substring(s.posted_time.indexOf("-")+1)},{default:d(()=>[a("h4",{class:"post-title",onClick:O=>e.handleTitleClick(s)},p(s.title.slice(0,-3)),9,C)]),_:2},1032,["timestamp"]))),128))]),_:2},1024)]))),128)}const S=u(x,[["render",B],["__scopeId","data-v-214b5ae3"]]);const T={components:{ArchiveItem:S},data(){return{archiveItems:Object,years:[]}},mounted(){this.fetchTimeItems(),this.updateData("Archives")},methods:{async fetchTimeItems(){try{const e=await w.get("http://8.134.239.98:80/list/archive");if(e.status===200)this.archiveItems=e.data,console.log(this.archiveItems),this.years=Object.keys(this.archiveItems).sort((o,r)=>r-o),console.log(this.years);else throw new Error("Failed to fetch top-level archive items")}catch(e){console.error("Error fetching top-level menus:",e)}},updateData(e){this.$store.commit("navi",e)}}},V=e=>(k("data-v-7675efa0"),e=e(),b(),e),D={id:"app"},E=V(()=>a("h1",null,"Archives",-1)),F={class:"archive-item"};function L(e,o,r,f,n,y){const c=h("ArchiveItem");return t(),i("div",D,[E,a("div",F,[v(c,{items:n.archiveItems,"years-list":n.years},null,8,["items","years-list"])])])}const q=u(T,[["render",L],["__scopeId","data-v-7675efa0"]]);export{q as default};
